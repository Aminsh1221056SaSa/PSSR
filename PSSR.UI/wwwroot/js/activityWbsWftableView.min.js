var g=new JSGantt.GanttChart("g",document.getElementById("GanttChartDIV"),"day"),WBSWfActivityConfig=WBSWfActivityConfig||function(){function i(n){n?g.setShowProgress(1):g.setShowProgress(0);g.setShowInput(0);g.setShowActivityCount(1);g.setShowRes(0);g.setShowDur(0);g.setShowComp(1);g.setShowStartDate(0);g.setShowEndDate(0);g.setCaptionType("Resource");g?(g!=null&&(g=new JSGantt.GanttChart("g",document.getElementById("GanttChartDIV"),"day"),n?g.setShowProgress(1):g.setShowProgress(0),g.setShowInput(0),g.setShowActivityCount(1),g.setShowRes(0),g.setShowDur(0),g.setShowComp(1),g.setShowStartDate(0),g.setShowEndDate(0),g.setCaptionType("Resource")),r(n)):alert("not defined")}function r(i){$("#wbs-wfCalculate-loading").show();$.ajax({type:"Get",url:"/poec/Dashboard/GetProjectWBSTreeToProgress?toProgress="+i+"",contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){$.each(i,function(i,r){r.Childeren.length?(g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"8/15/2008","8/24/2008","ff0000","",0,n(r.Type),r.WF,1,0,1,r.Name,r.Progress,r.ActivityCount)),t(r.Childeren)):g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"8/15/2008","8/24/2008","ff0000","",0,n(r.Type),r.WF,0,0,1,r.Name,r.Progress,r.ActivityCount))});$("#wbs-wfCalculate-loading").hide();f()},error:function(n){console.log(n)}})}function u(n){$("#modal-default-overlay").modal("show");var t={CalType:n};$.ajax({type:"PUT",url:"/poec/WBS/UpdateAllActivityWf",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),success:function(n){$("#modal-default-overlay").modal("toggle");n.key==200||($("#global-error-message").html(n.value),$("#modal-danger").modal("show"))},error:function(n){console.log(n)}})}function t(i){$.each(i,function(i,r){r.Childeren.length?(g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"7/20/2008","7/20/2008","f600f6","",0,n(r.Type),r.WF,1,r.ParentId,0,r.Name,r.Progress,r.ActivityCount)),t(r.Childeren)):g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"7/20/2008","7/20/2008","f600f6","",-100,n(r.Type),r.WF,0,r.ParentId,0,r.Name,r.Progress,r.ActivityCount))})}function f(){g.Draw("Level Type","Duration","Wf(%)","Start Date","End Date","Name","Progress(%)","Activity Count");g.HidenRightside();$("#leftside").css("width","100%");$("#theTable-firsttd").css("width","100%");$("#theTable-second").css("width","100%");$("#jsgantt-bottom").hide();var n=window.innerHeight*.63;$("#theTable-second").DataTable({scrollY:n+"px",fixedHeader:!0,colReorder:!0,autoWidth:!0})}function n(n){var t="";switch(n){case 1001:t="Project";break;case 1002:t="Work Package";break;case 1003:t="Location";break;case 1004:t="Descipline";break;case 1005:t="System";break;case 1006:t="SubSystem";break;case 1007:t="MDR";break;default:"Activity"}return t}return{init:function(n){i(n)},updateAllActivityWbsWf:function(n){u(n)},lastwbsChildClick:function(n){lastwbsChildClick(n)}}}();