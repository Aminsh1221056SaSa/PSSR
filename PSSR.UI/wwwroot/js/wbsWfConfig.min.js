var g=new JSGantt.GanttChart("g",document.getElementById("GanttChartDIV"),"day"),WBSWfConfig=WBSWfConfig||function(){function i(){g.setShowActivityCount(1);g.setShowInput(1);g.setShowRes(0);g.setShowDur(0);g.setShowComp(1);g.setShowStartDate(0);g.setShowEndDate(0);g.setCaptionType("Resource");g?(g!=null&&(g=new JSGantt.GanttChart("g",document.getElementById("GanttChartDIV"),"day"),g.setShowActivityCount(1),g.setShowInput(1),g.setShowRes(1),g.setShowDur(0),g.setShowComp(1),g.setShowStartDate(0),g.setShowEndDate(0),g.setCaptionType("Resource")),r()):alert("not defined")}function r(){$.ajax({type:"Get",url:"/poec/Dashboard/GetProjectWBSTreeToProgress?toProgress=false",contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){$.each(i,function(i,r){r.Childeren.length?(g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"8/15/2008","8/24/2008","ff0000","",0,n(r.Type),r.WF,1,0,1,r.Name,0,r.ActivityCount)),t(r.Childeren)):g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"8/15/2008","8/24/2008","ff0000","",0,n(r.Type),r.WF,0,0,1,r.Name,0,r.ActivityCount))});u()},error:function(n){console.log(n)}})}function t(i){$.each(i,function(i,r){r.Childeren.length?(g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"7/20/2008","7/20/2008","f600f6","",0,n(r.Type),r.WF,1,r.ParentId,0,r.Name,0,r.ActivityCount)),t(r.Childeren)):g.AddTaskItem(new JSGantt.TaskItem(r.Id,r.WBSCode,"7/20/2008","7/20/2008","f600f6","",0,n(r.Type),r.WF,0,r.ParentId,0,r.Name,0,r.ActivityCount))})}function u(){g.Draw("WBS Code","Duration","Wf(%)","Start Date","End Date","Name","Type","Activity Count");g.HidenRightside();$("#leftside").css("width","100%");$("#theTable-firsttd").css("width","100%");$("#theTable-second").css("width","100%");$("#jsgantt-bottom").hide();var n=window.innerHeight*.63;$("#theTable-second").DataTable({scrollY:n+"px",fixedHeader:!0,colReorder:!0,autoWidth:!0})}function f(n){var i=$(n).val(),r=$(n).attr("id").split("-")[2],t;n.addClass("inputLoading");t={key:r,value:i};$.ajax({type:"PUT",url:"/poec/WBS/EditProjectWBSWF",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t.key==200?n.removeClass("inputLoading"):(n.removeClass("inputLoading"),$("#global-error-message").html(t.value),$("#modal-danger").modal("show"))},error:function(n){console.log(n)}})}function n(n){var t="";switch(n){case 1001:t="Project";break;case 1002:t="Work Package";break;case 1003:t="Location";break;case 1004:t="Descipline";break;case 1005:t="System";break;case 1006:t="SubSystem";break;case 1007:t="MDR"}return t}return{init:function(){i()},updatewbswf:function(n){f(n)}}}();