var projectDashboard=projectDashboard||function(){function t(){$.ajax({type:"Get",url:"/poec/Dashboard/ProjectDashboardInitialization",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){n!=null&&(i(n.project),r(n.workPackages))},error:function(n){console.log(n)}})}function i(n){$("#pr-d-0").text(n.description);$("#pr-d-1").text(n.startDate);$("#pr-d-2").text(n.endDate);$("#pr-d-3").text(n.elapsedDate);$("#pr-d-4").text(n.remainedDate);$("#pr-d-5").text(n.desciplinesCount);$("#pr-d-6").text(n.systemsCount);$("#pr-d-7").text(n.subSystemsCount);$("#pr-d-8").text(n.activitysCount)}function r(n){var t=$("#tab-header"),i=$("#tab-body");$.each(n,function(n,r){var u,f;u=n==0?$("<li><a class='tab-header-wf' data-id='th-"+r.id+"'  href='#tab_wf_"+r.id+"' data-toggle='tab'>"+r.title+"<\/a><\/li>"):$("<li><a class='tab-header-wf' data-id='th-"+r.id+"'  href='#tab_wf_"+r.id+"' data-toggle='tab'>"+r.title+"<\/a><\/li>");f=$("<div class='tab-pane workpackage-pane' id='tab_wf_"+r.id+"'><\/div>");t.append(u);i.append(f)})}function u(t,i){var r=$("#workPackage-type");r.empty();r.append("<option value=0>...Select workPackage...<\/option>");$.ajax({type:"Get",url:"/poec/Dashboard/ProjectDashboardInitialization",contentType:"application/json; charset=utf-8",dataType:"json",success:function(u){$.each(u.workPackages,function(n,i){i.id==t?r.append("<option value="+i.id+" selected>"+i.title+"<\/option>"):r.append("<option value="+i.id+">"+i.title+"<\/option>")});n(i)},error:function(n){console.log(n)}})}function n(n){var t=$("#location-type");t.empty();t.append("<option value=0>...Select Location..<\/option>");$.ajax({type:"Get",url:"/poec/WorkPackage/GetLocations",contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){$.each(i,function(i,r){r.id==n?t.append("<option value="+r.id+" selected>"+r.title+"<\/option>"):t.append("<option value="+r.id+">"+r.title+"<\/option>")});$("#location-type").trigger("change")},error:function(n){console.log(n)}})}function f(){$("#gchart-loading").show();$.ajax({type:"Get",url:"/poec/Dashboard/GetGlobalActivityDoneChart",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){n!=null&&e(n);$("#gchart-loading").hide()},error:function(n){console.log(n)}})}function e(n){Highcharts.chart("globalChart",{chart:{type:"spline"},title:{text:"Daily Done Activity For Related Projects"},subtitle:{text:"Source: PCMS Database"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Activity"},min:0},tooltip:{headerFormat:"<b>{series.name}<\/b><br>",pointFormat:"{point.x:%e. %b}: {point.y}"},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1}},series:n.values});$(".highcharts-credits").css("visibility","hidden")}return{init:function(){t()},globalChart:function(){f()},getWorkPackageContent:function(n){getWorkPackageContent(n)},initWorkPakcageDropDown:function(n,t){u(n,t)},initLocationDropDown:function(t){n(t)}}}();