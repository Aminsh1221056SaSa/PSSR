var managerDashboard=managerDashboard||function(){function t(t,i){$.ajax({type:"Get",url:"/poec/Dashboard/ManagerDashboardInitializationW1",contentType:"application/json; charset=utf-8",dataType:"json",success:function(c){var l,v,y,a,p,w;c!=null&&c.workPackages!=null&&(r(c.project),l=c.workPackages[0],l!=null&&(u(l),v=n(c.locations,"parentId",l.id),f(v,l),e(l.id),y="desciplineStatusPreCom-0",t.paintingDesciplineActivityBarStatus(l.id,0,y),$("#cu-workDes-id").val(l.id),$("#cu-des-id").val(0)),a=c.workPackages[1],a!=null&&(o(a),p=n(c.locations,"parentId",a.id),s(p,a),h(a.id),w="desciplineStatusCom-0",i.paintingWorkStepActivityBarStatus(a.id,0,w),$("#cu-workSt-id").val(a.id),$("#cu-wst-id").val(0)))},error:function(n){console.log(n)}})}function i(){var n=$("#model-managerMdr");n.empty();$.ajax({type:"Get",url:"/poec/Dashboard/GetProjectMDRSummary",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){$.each(t,function(t,i){var r=$("<tr><\/tr>"),u=$("<td><a href='"+i.link+"'><p>"+i.name+"<\/p><\/a><\/td>"),f=$("<td><p>"+i.total+"<\/p><\/td>"),e=$("<td><p>"+i.done+"<\/p><\/td>");r.append(u).append(f).append(e);n.append(r)})},error:function(n){console.log(n)}})}function r(n){$("#pr-d-0").text(n.description);$("#pr-d-1").text(n.startDate);$("#pr-d-2").text(n.endDate);$("#pr-d-3").text(n.elapsedDate);$("#pr-d-4").text(n.remainedDate);$("#pr-d-5").text(n.desciplinesCount);$("#pr-d-6").text(n.systemsCount);$("#pr-d-7").text(n.subSystemsCount);$("#pr-d-8").text(n.activitysCount)}function u(n){var t=$("#wd-1"),r,i;t.css("color","#FFF");r=$("#wd-title-1");t.attr("data-workId",n.id);r.html(n.title+" Database");i=t.attr("href");i=i.replace("dummyDate",n.id);t.attr("href",i)}function f(n){var t=$("#w1-header"),i=$("#w1-body"),r=$("<li class='active'><a data-wId='th-0' class='tab-header-w1' data-id='th-w1-0'  href='#tab_w1_0' data-toggle='tab'>All<\/a><\/li>"),u=$("<div class='tab-pane active location-tab-pane' id='tab_w1_0'><div id=desciplineStatusPreCom-0 style='height: 300px; margin: 0 auto'><\/div><\/div>");t.append(r);i.append(u);$.each(n,function(n,r){var u,f;u=n==0?$("<li><a class='tab-header-w1'  data-id='th-w1-"+r.id+"'  href='#tab_w1_"+r.id+"' data-toggle='tab'>"+r.name+"<\/a><\/li>"):$("<li><a class='tab-header-w1' data-id='th-w1-"+r.id+"'  href='#tab_w1_"+r.id+"' data-toggle='tab'>"+r.name+"<\/a><\/li>");f=$("<div class='tab-pane location-tab-pane' id='tab_w1_"+r.id+"'><div id='desciplineStatusPreCom-"+r.id+"' style='height: 300px; margin: 0 auto'><\/div><\/div>");t.append(u);i.append(f)})}function e(n){$("#w1-actual-loading").show();$.ajax({type:"Get",url:"/poec/Dashboard/GetActivityDetailsByWorkPackage?workPackageId="+n+"&groupType=1",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){var t,r,u,f,i;n.actualReport!=null&&(t=$("#w1-actual-report"),t.empty(),$.each(n.actualReport,function(n,i){if(i.isBolded==!0){var r="bg-red";i.value>0&&i.value<=30?r="bg-orange":i.value>30&&i.value<=50?r="bg-yellow":i.value>50&&i.value<=90?r="bg-blue":i.value>90&&(r="bg-green");t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge "+r+"'>"+i.value.toFixed(2)+" %<\/span><\/a><\/li>")}else i.isTitle==!0?t.append("<li><a style='font-weight:bold' href="+i.link+">"+i.title+" <span class='pull-right badge bg-red'>"+i.value+"<\/span><\/a><\/li>"):t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge bg-gray'>"+i.value+"<\/span><\/a><\/li>")}));n.planeReport!=null&&(t=$("#w1-plane-report"),t.empty(),$.each(n.planeReport,function(n,i){if(i.isBolded==!0){var r="bg-red";i.value>0&&i.value<=30?r="bg-orange":i.value>30&&i.value<=50?r="bg-yellow":i.value>50&&i.value<=90?r="bg-blue":i.value>90&&(r="bg-green");t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge "+r+"'>"+i.value.toFixed(2)+" %<\/span><\/a><\/li>")}else i.isTitle==!0?t.append("<li><a style='font-weight:bold' href="+i.link+">"+i.title+" <span class='pull-right badge bg-green'>"+i.value+"<\/span><\/a><\/li>"):t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge bg-gray'>"+i.value+"<\/span><\/a><\/li>")}));n.groupReport!=null&&(t=$("#DACCheckerTable"),t.empty(),r=0,u=0,$.each(n.groupReport,function(n,i){var f=$("<tr><\/tr>");f.append("<td><a href='"+i.link+"'><p>"+i.title+" DAC<\/p><\/a><\/td>");f.append("<td><p>"+i.total+"<\/p><\/td>");f.append("<td><p>"+i.done+"<\/p><\/td>");r+=i.done;u+=i.total;t.append(f)}),f=$("#DACCheckerTable-footer"),f.empty(),i=$("<tr><\/tr>"),i.append("<td><p>Total RFC<\/p><\/td>"),i.append("<td><p>"+u+"<\/p><\/td>"),i.append("<td><p>"+r+"<\/p><\/td>"),f.append(i));$("#w1-actual-loading").hide()},error:function(n){console.log(n)}})}function o(n){var t=$("#wd-2"),r,i;t.css("color","#FFF");r=$("#wd-title-2");t.attr("data-workId",n.id);r.html(n.title+" Database");i=t.attr("href");i=i.replace("dummyDate",n.id);t.attr("href",i)}function s(n){var t=$("#w2-header"),i=$("#w2-body"),r=$("<li class='active'><a data-wId='th-0' class='tab-header-w2' data-id='th-w2-0'  href='#tab_w2_0' data-toggle='tab'>All<\/a><\/li>"),u=$("<div class='tab-pane active location-tab-pane' id='tab_w2_0'><div id=desciplineStatusCom-0 style='height: 300px; margin: 0 auto'><\/div><\/div>");t.append(r);i.append(u);$.each(n,function(n,r){var u,f;u=n==0?$("<li><a class='tab-header-w2'  data-id='th-w2-"+r.id+"'  href='#tab_w2_"+r.id+"' data-toggle='tab'>"+r.name+"<\/a><\/li>"):$("<li><a class='tab-header-w2' data-id='th-w2-"+r.id+"'  href='#tab_w2_"+r.id+"' data-toggle='tab'>"+r.name+"<\/a><\/li>");f=$("<div class='tab-pane location-tab-pane' id='tab_w2_"+r.id+"'><div id='desciplineStatusCom-"+r.id+"' style='height: 300px; margin: 0 auto'><\/div><\/div>");t.append(u);i.append(f)})}function h(n){$("#w2-actual-loading").show();$.ajax({type:"Get",url:"/poec/Dashboard/GetActivityDetailsByWorkPackage?workPackageId="+n+"&groupType=2",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){var t,r,u,f,i;n.actualReport!=null&&(t=$("#w2-actual-report"),t.empty(),$.each(n.actualReport,function(n,i){if(i.isBolded==!0){var r="bg-red";i.value>0&&i.value<=30?r="bg-orange":i.value>30&&i.value<=50?r="bg-yellow":i.value>50&&i.value<=90?r="bg-blue":i.value>90&&(r="bg-green");t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge "+r+"'>"+i.value.toFixed(2)+" %<\/span><\/a><\/li>")}else i.isTitle==!0?t.append("<li><a style='font-weight:bold' href="+i.link+">"+i.title+" <span class='pull-right badge bg-red'>"+i.value+"<\/span><\/a><\/li>"):t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge bg-gray'>"+i.value+"<\/span><\/a><\/li>")}));n.planeReport!=null&&(t=$("#w2-plane-report"),t.empty(),$.each(n.planeReport,function(n,i){if(i.isBolded==!0){var r="bg-red";i.value>0&&i.value<=30?r="bg-orange":i.value>30&&i.value<=50?r="bg-yellow":i.value>50&&i.value<=90?r="bg-blue":i.value>90&&(r="bg-green");t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge "+r+"'>"+i.value.toFixed(2)+" %<\/span><\/a><\/li>")}else i.isTitle==!0?t.append("<li><a style='font-weight:bold' href="+i.link+">"+i.title+" <span class='pull-right badge bg-green'>"+i.value+"<\/span><\/a><\/li>"):t.append("<li><a href="+i.link+">"+i.title+" <span class='pull-right badge bg-gray'>"+i.value+"<\/span><\/a><\/li>")}));n.groupReport!=null&&(t=$("#systemRFCTable"),t.empty(),r=0,u=0,$.each(n.groupReport,function(n,i){var f=$("<tr><\/tr>");f.append("<td><a href='"+i.link+"'><p>"+i.title+"<\/p><\/a><\/td>");f.append("<td><p>"+i.total+"<\/p><\/td>");f.append("<td><p>"+i.done+"<\/p><\/td>");r+=i.done;u+=i.total;t.append(f)}),f=$("#systemRFCTable-footer"),f.empty(),i=$("<tr><\/tr>"),i.append("<td><p>Total RFS<\/p><\/td>"),i.append("<td><p>"+u+"<\/p><\/td>"),i.append("<td><p>"+r+"<\/p><\/td>"),f.append(i));$("#w2-actual-loading").hide()},error:function(n){console.log(n)}})}function n(n,t,i){for(var u=[],r=0;r<n.length;r++)n[r][t]==i&&u.push(n[r]);return u}return{init:function(n,r){t(n,r);i()}}}();