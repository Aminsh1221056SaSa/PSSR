var g=new JSGantt.GanttChart("g",document.getElementById("GanttChartDIV"),"day"),planWorkFlow=planWorkFlow||function(){function t(){g.setShowRes(1);g.setShowDur(1);g.setShowComp(1);g.setCaptionType("Resource");g.setShowStartDate(1);g.setShowEndDate(1);g?(g!=null&&(g=new JSGantt.GanttChart("g",document.getElementById("GanttChartDIV"),"day"),g.setShowRes(1),g.setShowDur(1),g.setShowComp(1),g.setCaptionType("Resource"),g.setShowStartDate(1),g.setShowEndDate(1)),i()):alert("not defined")}function i(){var t=[];$("#gr-1000").iCheck("update")[0].checked&&t.push(1e3);$("#gr-1001").iCheck("update")[0].checked&&t.push(1001);$("#gr-1002").iCheck("update")[0].checked&&t.push(1002);$("#gr-1003").iCheck("update")[0].checked&&t.push(1003);$("#gr-1004").iCheck("update")[0].checked&&t.push(1004);$.ajax({type:"Get",url:"/poec/Project/GetPlanHirechary?filterTypes="+t,contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t.length>0&&($.each(t,function(t,i){i.childeren.length?(g.AddTaskItem(new JSGantt.TaskItem(i.id,i.title,"","","ff0000","",0,i.title,0,1,0,1)),n(i.childeren)):g.AddTaskItem(new JSGantt.TaskItem(i.id,i.title,"","","ff0000","",0,i.title,0,1,0,0))}),r());$("#nothing-plan").hide()},error:function(n){console.log(n)}})}function n(t){$.each(t,function(t,i){var r=parseFloat((i.done/i.total*100).toFixed(2)),u="e61a2e";r>0&&r<=30?u="ff9900":r>30&&r<=50?u="ffff66":r>50&&r<=75?u="33ccff":r>75&&r<=95?u="66ff99":r>95&&(u="00cc00");i.childeren.length?(g.AddTaskItem(new JSGantt.TaskItem(i.id,i.title,i.startDate,i.endDate,u,"",0,i.title,r,1,i.parentId,1)),n(i.childeren)):g.AddTaskItem(new JSGantt.TaskItem(i.id,i.title,i.startDate,i.endDate,u,"",0,i.resources,r,0,i.parentId,0))})}function r(){g.Draw();g.DrawDependencies();$("#leftside").css("width","100%");$("#theTable-firsttd").css("width","100%");$("#theTable-second").css("width","100%");$("#jsgantt-bottom").hide()}return{grantinitialization:function(){t()}}}();